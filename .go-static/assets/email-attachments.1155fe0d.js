import{o as m,c as w,a as f,l as v,e as k,i as b}from"./index.7c1e58c1.js";function x(t,r){return m(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function A(t,r){return m(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function E(t,r){return m(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function j(t,r){return m(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"})])}function B(t){const r=v(!1),n=["Subject","From","To","Cc"],l=s=>{const d={};if(s&&s.headers)for(let u=0;u<Object.entries(s.headers).length;u+=1){const[e,o]=Object.entries(s.headers)[u];Array.isArray(o)&&o.length>0&&(r.value||n.includes(e))&&(d[e]=o)}return d},i=k(()=>t.value?l(t.value):null);return{isAllHeaders:r,importantHeaders:n,headers:i}}function L(){return{currentTab:v("html"),tabs:[{id:"html"},{id:"plain"},{id:"source"},{id:"attachments"}]}}function $(){const t=v("0rem");return{iframeHeight:t,resizeIframe:n=>{var s;const i=((s=n.currentTarget.contentWindow)==null?void 0:s.document.documentElement.scrollHeight)+2;t.value=`${i}px`}}}function y(t,r={}){const n=b("MailHedgehog"),l=(e,o,h)=>{const c=new Blob([e],{type:o}),a=document.createElement("a");a.href=URL.createObjectURL(c),a.download=h,a.click(),URL.revokeObjectURL(a.href),a.remove()},i=e=>{var o;return r.urlBuilder?r.urlBuilder(e,t):`emails/${(o=t.value)==null?void 0:o.id}/attachment/${e}`},s=(e,o)=>{if(!t.value)return;const h=i(e);n==null||n.request().get(h).then(()=>{const c=document.createElement("a");c.download=o;let a=`${n==null?void 0:n.request().defaults.baseURL}/${h}`;a.startsWith("//")&&(a=`${window.location.protocol}${a}`);const p=new URL(a);p.searchParams.set("token",n==null?void 0:n.getAuthToken()),c.href=p.toString(),document.body.appendChild(c),c.click(),document.body.removeChild(c)}).catch(c=>{n.onResponseError(c,"Response Error")}).finally(()=>{})};return{downloadEmailAttachment:e=>{e.data&&e.data.length>0?l(e.data,e.contentType,e.filename):s(e.index,e.filename)},downloadEmail:()=>{t.value&&l(t.value.source,"text/plain",`${t.value.id}.eml`)}}}export{L as a,$ as b,y as c,E as d,j as e,x as f,A as r,B as u};
