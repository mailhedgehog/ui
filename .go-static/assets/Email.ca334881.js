import{o,c as a,a as t,i as I,b as Z,l as C,L as W,N as X,e as he,d as D,m as ee,p as te,g as V,w as b,v as p,k as e,n as F,j as H,t as i,q as _,M as T,s as g,O as se,P as oe,u as ve,x as $,F as M,f as B,B as fe}from"./index.7c1e58c1.js";import{u as _e,a as ye,b as we,c as ke,r as be,d as ge,e as $e,f as Ce}from"./email-attachments.1155fe0d.js";import{_ as ne,h as A,Y as ae,z as re,S as le}from"./transition.c8b00211.js";import{r as Ee}from"./TrashIcon.a110078a.js";import{r as Se}from"./EyeIcon.eeeccff0.js";import{r as N}from"./ExclamationTriangleIcon.f34bb792.js";import"./keyboard.fb260a87.js";function Me(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0-3-3m3 3 3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function Le(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function Re(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0 6.75 6.75M4.5 12l6.75-6.75"})])}function je(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function qe(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function Be(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}function Te(n,r){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}function ie(){const n=I("MailHedgehog"),{t:r}=Z(),m=C(!1),x=C(!1),d=C({host:"",port:25,username:"",password:""}),y=()=>{const l=localStorage.getItem("smtpReleaseCredentials");if(l){try{const s=JSON.parse(atob(l));typeof s=="object"&&!Array.isArray(s)&&s!==null&&(s.host&&(d.value.host=s.host),s.port&&(d.value.port=s.port),s.username&&(d.value.username=s.username),s.password&&(d.value.password=s.password))}catch(s){n==null||n.error(s==null?void 0:s.message)}console.error(d.value)}};return{isOpenReleaseModal:x,releaseForm:d,fromLocalStorage:y,clearFromLocalStorage:()=>{localStorage.removeItem("smtpReleaseCredentials"),n==null||n.success(r("release.deleted"))},saveToLocalStorage:()=>{const l={};d.value.host&&(l.host=d.value.host),d.value.port&&(l.port=d.value.port),d.value.username&&(l.username=d.value.username),d.value.password&&(l.password=d.value.password),localStorage.setItem("smtpReleaseCredentials",btoa(JSON.stringify(l))),y(),n==null||n.success(r("release.saved"))},releaseEmail:l=>{!l||(m.value=!0,n==null||n.request().post(`emails/${l==null?void 0:l.id}/release`,d.value).then(()=>{x.value=!1,n==null||n.success(r("email.released"))}).catch(()=>{n==null||n.error(r("response.error"))}).finally(()=>{m.value=!1}))},isRequestingReleaseEmail:m}}function de(){const n=I("MailHedgehog"),{t:r}=Z(),m=W();X();const x=he(()=>n==null?void 0:n.configValue("sharing.enabled",!1)),d=C(!1),y=C(!1),v=C(null),u=C({expiration_in:1440});return{isSharingEnabled:x,isOpenShareModal:y,isRequestingShareEmail:d,shareForm:u,shareLink:v,shareEmail:l=>{!l||(d.value=!0,n==null||n.request().post(`emails/${l==null?void 0:l.id}/share`,u.value).then(s=>{var f,L;n==null||n.success(r("email.linkCreated"));const k=(L=(f=s.data)==null?void 0:f.data)==null?void 0:L.id;if(!k){n==null||n.error(r("response.error"));return}v.value=`${window.location.origin}/${m.resolve({name:"sharedMail",params:{id:k}}).href}`}).catch(()=>{n==null||n.error(r("response.error"))}).finally(()=>{d.value=!1}))}}}const Ve=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Fe={class:"fixed inset-0 z-10 overflow-y-auto"},Ze={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ze={class:"text-center sm:mt-5"},Ae={class:"mt-6 text-left text-context-900 dark:text-context-100"},Ie={class:"space-y-6"},Oe={for:"host",class:"form-label"},Ue={class:"mt-1 flex"},Ne={for:"smtp-username",class:"form-label"},De={class:"mt-1"},He=["placeholder"],Je=["placeholder"],Ye={class:"mt-6 sm:mt-8 flex items-center justify-between"},Pe={class:"flex space-x-2 mx-2"},Ge=D({__name:"ReleaseEmail",props:{email:{default:null},show:{type:Boolean,default:!1},requesting:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:r}){const{t:m}=Z(),x=r,{releaseForm:d,clearFromLocalStorage:y,fromLocalStorage:v,saveToLocalStorage:u,releaseEmail:w}=ie();return ee(()=>{v()}),(l,s)=>{const k=te("tooltip");return o(),V(e(le),{as:"template",show:l.show},{default:b(()=>[p(e(ne),{as:"div",class:F(["relative z-10",{"pointer-events-none":l.requesting}]),onClose:s[8]||(s[8]=f=>x("close"))},{default:b(()=>[p(e(A),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[Ve]),_:1}),t("div",Fe,[t("div",Ze,[p(e(A),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[p(e(ae),{class:"bg-context-50 dark:bg-context-900 relative transform overflow-hidden rounded-lg px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:b(()=>[t("div",null,[t("div",ze,[p(e(re),{as:"h3",class:"text-lg font-medium leading-6 text-context-900 dark:text-context-100"},{default:b(()=>[H(i(e(m)("email.releaseHint")),1)]),_:1}),t("div",Ae,[t("div",Ie,[t("div",null,[t("label",Oe,i(e(m)("release.host")),1),t("div",Ue,[_(t("input",{id:"host","onUpdate:modelValue":s[0]||(s[0]=f=>e(d).host=f),name:"host",type:"text",autocomplete:"host",required:"",class:"form-input rounded-r-none",placeholder:"smtp.provider.com"},null,512),[[T,e(d).host]]),_(t("input",{id:"port","onUpdate:modelValue":s[1]||(s[1]=f=>e(d).port=f),name:"port",type:"number",min:"1",max:"9999",step:"1",autocomplete:"port",required:"",class:"form-input rounded-l-none w-20",placeholder:"25"},null,512),[[T,e(d).port],[k,e(m)("release.port")]])])]),t("div",null,[t("label",Ne,i(e(m)("release.auth")),1),t("div",De,[_(t("input",{id:"smtp-username","onUpdate:modelValue":s[2]||(s[2]=f=>e(d).username=f),name:"smtp-username",type:"text",autocomplete:"smtp-username",class:"form-input rounded-b-none",placeholder:e(m)("release.username")},null,8,He),[[T,e(d).username]]),_(t("input",{id:"smtp-password","onUpdate:modelValue":s[3]||(s[3]=f=>e(d).password=f),name:"smtp-password",type:"password",autocomplete:"smtp-password",class:"form-input rounded-t-none",placeholder:e(m)("release.password")},null,8,Je),[[T,e(d).password]])])])])])])]),t("div",Ye,[t("button",{type:"button",class:"btn btn--default",onClick:s[4]||(s[4]=f=>x("close"))},i(e(m)("email.cancel")),1),t("div",Pe,[_((o(),a("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500",onClick:s[5]||(s[5]=g((...f)=>e(u)&&e(u)(...f),["prevent"]))},[p(e(Me),{class:"h-6 w-6"})])),[[k,e(m)("release.saveToStorage")]]),_((o(),a("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500",onClick:s[6]||(s[6]=g((...f)=>e(y)&&e(y)(...f),["prevent"]))},[p(e(Le),{class:"h-6 w-6"})])),[[k,e(m)("release.deleteSavedToStorage")]])]),t("button",{type:"button",class:"btn btn--primary",onClick:s[7]||(s[7]=f=>e(w)(l.email))},i(e(m)("email.release")),1)])]),_:1})]),_:1})])])]),_:1},8,["class"])]),_:1},8,["show"])}}}),Ke=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Qe={class:"fixed inset-0 z-10 overflow-y-auto"},We={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Xe={class:"text-center sm:mt-5"},et={class:"mt-6 text-left text-context-900 dark:text-context-100"},tt={key:0},st={for:"shareLink",class:"form-label"},ot={class:"mt-1 flex"},nt={key:1},at={for:"expiration_in",class:"form-label"},rt={class:"mt-1 relative"},lt={value:1},it={value:3},dt={value:24},ct={value:168},mt={value:720},ut={class:"mt-6 sm:mt-8 flex items-center justify-between"},pt=t("div",{class:"px-2"},null,-1),xt=["disabled"],ht=D({__name:"ShareEmail",props:{email:{default:null},show:{type:Boolean,default:!1},requesting:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:r}){const m=I("MailHedgehog"),{t:x}=Z(),d=r,{shareForm:y,shareLink:v,shareEmail:u}=de();return(w,l)=>(o(),V(e(le),{as:"template",show:w.show},{default:b(()=>[p(e(ne),{as:"div",class:F(["relative z-10",{"pointer-events-none":w.requesting}]),onClose:l[5]||(l[5]=s=>d("close"))},{default:b(()=>[p(e(A),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[Ke]),_:1}),t("div",Qe,[t("div",We,[p(e(A),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[p(e(ae),{class:"bg-context-50 dark:bg-context-900 relative transform overflow-hidden rounded-lg px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:b(()=>[t("div",null,[t("div",Xe,[p(e(re),{as:"h3",class:"text-lg font-medium leading-6 text-context-900 dark:text-context-100"},{default:b(()=>[H(i(e(x)("sharedEmail.modalTitle")),1)]),_:1}),t("div",et,[e(v)?(o(),a("div",tt,[t("label",st,i(e(x)("sharedEmail.form.shareLink.label")),1),t("div",ot,[_(t("input",{id:"shareLink","onUpdate:modelValue":l[0]||(l[0]=s=>se(v)?v.value=s:null),readonly:"",name:"shareLink",type:"text",autocomplete:"off",required:"",class:"form-input rounded-r-none"},null,512),[[T,e(v)]]),t("a",{class:"cursor-pointer form-input border-l-0 rounded-l-none w-auto text-context-400 dark:text-context-600 hover:text-primary-600 transition-all duration-500",onClick:l[1]||(l[1]=g(s=>{var k;return(k=e(m))==null?void 0:k.copyToClipboard(e(v))},["prevent"]))},[p(e(qe),{class:"h-6 flex-shrink-0 pointer-events-none"})])])])):(o(),a("div",nt,[t("label",at,i(e(x)("sharedEmail.form.expiration.label")),1),t("div",rt,[_(t("select",{id:"expiration_in","onUpdate:modelValue":l[2]||(l[2]=s=>e(y).expiration_in=s),name:"expiration_in",class:"form-input cursor-pointer"},[t("option",lt,i(e(x)("sharedEmail.form.expiration.1h")),1),t("option",it,i(e(x)("sharedEmail.form.expiration.3h")),1),t("option",dt,i(e(x)("sharedEmail.form.expiration.1d")),1),t("option",ct,i(e(x)("sharedEmail.form.expiration.7d")),1),t("option",mt,i(e(x)("sharedEmail.form.expiration.30d")),1)],512),[[oe,e(y).expiration_in]]),p(e(je),{class:"h-6 flex-shrink-0 text-context-400 dark:text-context-600 pointer-events-none absolute top-1/2 right-2 -translate-y-1/2","aria-hidden":"true"})])]))])])]),t("div",ut,[t("button",{type:"button",class:"btn btn--default",onClick:l[3]||(l[3]=s=>d("close"))},i(e(x)("email.cancel")),1),pt,t("button",{type:"button",class:"btn btn--primary",disabled:!!e(v),onClick:l[4]||(l[4]=s=>e(u)(w.email))},i(e(x)("sharedEmail.form.submitButton.label")),9,xt)])]),_:1})]),_:1})])])]),_:1},8,["class"])]),_:1},8,["show"]))}}),vt={class:"bg-context-50 dark:bg-context-900 px-4 sm:px-6 lg:px-8 shadow dark:shadow-context-500 mb-6 md:mb-8"},ft={class:"flex justify-between py-3 lg:mx-auto lg:max-w-6xl"},_t={class:"isolate inline-flex rounded-md shadow-sm sm:space-x-3 sm:shadow-none"},yt={class:"hidden md:inline"},wt={class:"isolate inline-flex rounded-md shadow-sm sm:space-x-3 sm:shadow-none"},kt={class:"inline-flex sm:shadow-sm"},bt={class:"hidden md:inline"},gt={class:"hidden md:inline"},$t={class:"hidden md:inline"},Ct={class:"hidden md:inline"},Et={class:"px-4 sm:px-6 lg:px-8"},St={class:"overflow-hidden bg-context-50 dark:bg-context-900 border border-context-300 shadow dark:shadow-context-500 sm:rounded-lg mb-6 lg:mx-auto lg:max-w-6xl"},Mt={class:"px-4 py-5 sm:px-6"},Lt={class:"text-lg font-medium leading-6 text-context-900 dark:text-context-100 flex justify-between"},Rt={class:"mt-1 max-w-2xl text-sm text-context-500 dark:text-context-400"},jt={class:"border-t border-context-200 px-4 py-5 sm:p-0"},qt={class:"sm:divide-y sm:divide-context-200 sm:dark:divide-context-300"},Bt={class:"text-sm font-medium text-context-500 dark:text-context-400"},Tt={class:"mt-1 text-sm text-context-900 dark:text-context-100 sm:col-span-2 sm:mt-0"},Vt={key:0},Ft={key:1,role:"list",class:"divide-y divide-context-200 dark:divide-context-200 rounded-md border border-context-200 dark:border-context-200"},Zt={class:"sm:hidden"},zt=["value","selected"],At={class:"hidden sm:block lg:mx-auto lg:max-w-6xl"},It={class:"border-b border-context-200 dark:border-context-400"},Ot={class:"-mb-px flex space-x-8","aria-label":"Tabs"},Ut=["aria-current","onClick"],Nt={key:0,class:"lg:mx-auto lg:max-w-6xl"},Dt={key:0,class:"py-6"},Ht=["height","srcdoc"],Jt={key:1,class:"flex justify-center items-center"},Yt={class:"ml-4 text-context-900 dark:text-context-100"},Pt={key:1,class:"py-6"},Gt={key:0,class:"text-context-900 dark:text-context-100"},Kt={class:"overflow-auto"},Qt={key:1,class:"flex justify-center items-center"},Wt={class:"ml-4 text-context-900 dark:text-context-100"},Xt={key:2,class:"py-6"},es={class:"text-context-900 dark:text-context-100"},ts={class:"overflow-auto"},ss={key:3,class:"py-6"},os={key:0},ns={role:"list",class:"divide-y divide-context-200 rounded-md border border-context-200"},as={class:"flex w-0 flex-1 items-center"},rs={class:"ml-2 w-0 flex-1 text-context-900 dark:text-context-100 truncate"},ls={key:0,class:"ml-2"},is={class:"ml-4 flex-shrink-0"},ds=["onClick"],cs={class:"hidden md:inline"},ms={key:1,class:"flex justify-center items-center"},us={class:"ml-4 text-context-900 dark:text-context-100"},ks=D({__name:"Email",setup(n){const{t:r}=Z(),m=I("MailHedgehog"),x=W(),d=X(),y=ve(),v=C(!1),u=C(null),{isAllHeaders:w,headers:l}=_e(u),{currentTab:s,tabs:k}=ye(),{iframeHeight:f,resizeIframe:L}=we(),{downloadEmailAttachment:ce,downloadEmail:me}=ke(u),{isOpenReleaseModal:O,isRequestingReleaseEmail:J}=ie(),{isSharingEnabled:Y,isOpenShareModal:U,isRequestingShareEmail:ue}=de(),pe=R=>{v.value=!0,m==null||m.request().get(`emails/${R}`).then(h=>{var E,j;(E=h.data)!=null&&E.data?u.value=(j=h.data)==null?void 0:j.data:u.value=null}).catch(()=>{x.push({path:"/404"})}).finally(()=>{v.value=!1})};ee(()=>{pe(d.params.id)});const P=()=>{x.push({name:"emails",params:{}})},xe=()=>{!u.value||y.dispatch("confirmDialog/confirm").then(()=>{var R;v.value=!0,m==null||m.request().delete(`emails/${(R=u.value)==null?void 0:R.id}`).then(()=>{m==null||m.success(r("email.deleted")),fe(()=>P())}).catch(h=>{m.onResponseError(h,"Response Error")}).finally(()=>{v.value=!1})})};return(R,h)=>{var j,G,K;const E=te("tooltip");return o(),a(M,null,[t("div",{class:F(["flex flex-col justify-center",{"pointer-events-none opacity-75":v.value||e(J)}])},[t("div",vt,[t("div",ft,[t("div",null,[t("div",_t,[t("button",{type:"button",class:"btn btn--default",onClick:g(P,["prevent"])},[p(e(Re),{class:"md:mr-2 h-5 w-5"}),t("span",yt,i(e(r)("email.back")),1)])])]),t("div",null,[t("div",wt,[t("span",kt,[_((o(),a("button",{type:"button",class:"btn btn--default rounded-r-none rounded-l-md",onClick:g(xe,["prevent"])},[p(e(Ee),{class:"md:mr-2 h-5 w-5"}),t("span",bt,i(e(r)("email.delete")),1)])),[[E,e(r)("email.deleteHint")]]),_((o(),a("button",{type:"button",class:"btn btn--default rounded-none",onClick:h[0]||(h[0]=g(c=>e(me)(),["prevent"]))},[p(e(be),{class:"md:mr-2 h-5 w-5"}),t("span",gt,i(e(r)("email.download")),1)])),[[E,e(r)("email.downloadHint")]]),e(Y)?_((o(),a("button",{key:0,type:"button",class:"btn btn--default rounded-none",onClick:h[1]||(h[1]=g(c=>U.value=!0,["prevent"]))},[p(e(Te),{class:"md:mr-2 h-5 w-5"}),t("span",$t,i(e(r)("email.share")),1)])),[[E,e(r)("email.shareHint")]]):$("",!0),_((o(),a("button",{type:"button",class:"btn btn--default rounded-r-md rounded-l-none",onClick:h[2]||(h[2]=g(c=>O.value=!0,["prevent"]))},[p(e(Be),{class:"md:mr-2 h-5 w-5"}),t("span",Ct,i(e(r)("email.release")),1)])),[[E,e(r)("email.releaseHint")]])])])])])]),t("div",Et,[t("div",St,[t("div",Mt,[t("h3",Lt,[t("div",null,i(e(r)("email.headersTitle")),1),t("div",null,[_((o(),a("a",{class:"cursor-pointer",onClick:h[3]||(h[3]=g(c=>w.value=!e(w),["prevent"]))},[e(w)?(o(),V(e(ge),{key:0,class:"text-primary-400 h-5 w-5"})):(o(),V(e(Se),{key:1,class:"text-primary-700 h-5 w-5"}))])),[[E,e(w)?e(r)("email.hintHideHeaders"):e(r)("email.hintShowHeaders")]])])]),t("p",Rt,i(e(r)("email.headersSubtitle")),1)]),t("div",jt,[t("dl",qt,[(o(!0),a(M,null,B(e(l),(c,S)=>(o(),a("div",{key:S,class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},[t("dt",Bt,i(S),1),t("dd",Tt,[c.length===1?(o(),a("div",Vt,i(c[0]),1)):(o(),a("ul",Ft,[(o(!0),a(M,null,B(c,(q,z)=>(o(),a("li",{key:z,class:"py-3 pl-3 pr-4 text-sm"},i(q),1))),128))]))])]))),128))])])]),t("div",null,[t("div",Zt,[_(t("select",{id:"tabs","onUpdate:modelValue":h[4]||(h[4]=c=>se(s)?s.value=c:null),name:"tabs",class:"block w-full rounded border-context-300 dark:border-context-600 py-2 pl-3 pr-10 text-base focus:border-primary-500 focus:primary-none focus:ring-primary-500 sm:text-sm"},[(o(!0),a(M,null,B(e(k),c=>(o(),a("option",{key:c.id,value:c.id,selected:e(s)==c.id},i(e(r)(`email.tab.${c.id}`)),9,zt))),128))],512),[[oe,e(s)]])]),t("div",At,[t("div",It,[t("nav",Ot,[(o(!0),a(M,null,B(e(k),c=>{var S,q,z,Q;return o(),a("a",{key:c.id,href:"#",class:F(["whitespace-nowrap flex py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-500",[e(s)===c.id?"border-primary-500 text-primary-600":"cursor-pointer border-transparent text-context-500 dark:text-context-400 hover:text-context-700 hover:dark:text-context-300 hover:border-context-200 hover:dark:border-context-400"]]),"aria-current":e(s)===c.id?"page":void 0,onClick:g(ps=>s.value=c.id,["prevent"])},[H(i(e(r)(`email.tab.${c.id}`))+" ",1),c.id==="attachments"&&((q=(S=u.value)==null?void 0:S.attachments)==null?void 0:q.length)!==void 0?(o(),a("span",{key:0,class:F(["inline-block ml-3 py-0.5 px-2.5 rounded-full text-xs font-medium transition-colors duration-500",[e(s)===c.id?"bg-primary-100 text-primary-600":"bg-context-200 dark:bg-context-700 text-context-900 dark:text-context-100"]])},i((Q=(z=u.value)==null?void 0:z.attachments)==null?void 0:Q.length),3)):$("",!0)],10,Ut)}),128))])])])]),u.value?(o(),a("div",Nt,[e(s)==="html"?(o(),a("div",Dt,[u.value.html?(o(),a("iframe",{key:0,id:"preview-html",height:e(f),srcdoc:u.value.html,class:"w-full border border-context-200 dark:border-context-400",onLoad:h[5]||(h[5]=(...c)=>e(L)&&e(L)(...c))},null,40,Ht)):(o(),a("div",Jt,[p(e(N),{class:"text-primary-500 h-8 w-8"}),t("div",Yt,i(e(r)("email.htmlEmpty")),1)]))])):$("",!0),e(s)==="plain"?(o(),a("div",Pt,[u.value.plain?(o(),a("div",Gt,[t("pre",Kt,i(u.value.plain),1)])):(o(),a("div",Qt,[p(e(N),{class:"text-primary-500 h-8 w-8"}),t("div",Wt,i(e(r)("email.plainEmpty")),1)]))])):$("",!0),e(s)==="source"?(o(),a("div",Xt,[t("div",es,[t("pre",ts,i(u.value.source),1)])])):$("",!0),e(s)==="attachments"?(o(),a("div",ss,[((G=(j=u.value)==null?void 0:j.attachments)==null?void 0:G.length)>0?(o(),a("div",os,[t("ul",ns,[(o(!0),a(M,null,B((K=u.value)==null?void 0:K.attachments,(c,S)=>(o(),a("li",{key:S,class:"flex items-center justify-between py-3 pl-3 pr-4 text-sm"},[t("div",as,[p(e($e),{class:"text-context-400 dark:text-context-500 flex-shrink-0 h-5 w-5"}),t("span",rs,[t("span",null,i(c.filename),1),c.contentType?(o(),a("span",ls," ("+i(c.contentType)+") ",1)):$("",!0)])]),t("div",is,[t("a",{class:"cursor-pointer font-medium text-primary-500 hover:text-primary-600 transition-colors duration-500",onClick:g(q=>e(ce)(c),["prevent"])},[p(e(Ce),{class:"md:hidden flex-shrink-0 h-5 w-5"}),t("span",cs,i(e(r)("email.download")),1)],8,ds)])]))),128))])])):(o(),a("div",ms,[p(e(N),{class:"text-primary-500 h-8 w-8"}),t("div",us,i(e(r)("email.noAttachments")),1)]))])):$("",!0)])):$("",!0)])],2),p(Ge,{email:u.value,show:e(O),requesting:v.value||e(J),onClose:h[6]||(h[6]=c=>O.value=!1)},null,8,["email","show","requesting"]),e(Y)?(o(),V(ht,{key:0,email:u.value,show:e(U),requesting:v.value||e(ue),onClose:h[7]||(h[7]=c=>U.value=!1)},null,8,["email","show","requesting"])):$("",!0)],64)}}});export{ks as default};
