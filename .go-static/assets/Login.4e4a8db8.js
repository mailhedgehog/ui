import{o as x,c as h,a as e,d as k,b as j,i as M,e as u,l as f,C as q,k as o,t as i,s as S,q as v,M as _,v as c,j as B}from"./index.7c1e58c1.js";import{c as N,_ as T,a as U}from"./Copyright.vue_vue_type_script_setup_true_lang.d5a6ddab.js";import"./keyboard.fb260a87.js";function z(y,s){return x(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z","clip-rule":"evenodd"})])}const A={class:"flex min-h-screen items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-context-100 dark:bg-context-900"},C={class:"w-full max-w-md space-y-8 py-8"},E={class:"flex justify-center items-center"},L=["src","alt"],R={class:"mt-6 text-center text-3xl font-bold tracking-tight text-context-800 dark:text-context-50"},$={class:"-space-y-px rounded-md shadow-sm"},D={for:"email-address",class:"sr-only"},Z=["placeholder"],F={for:"password",class:"sr-only"},I=["placeholder"],G={type:"submit",class:"group relative flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600"},J={class:"absolute inset-y-0 left-0 flex items-center pl-3"},K={class:"fixed bottom-2 w-full flex justify-center"},O={class:"fixed top-2 right-2 flex items-center space-x-3"},X=k({__name:"Login",setup(y){const{t:s}=j(),t=M("MailHedgehog"),w=u(()=>t==null?void 0:t.configValue("ui.appName",null)),b=u(()=>t==null?void 0:t.configValue("ui.appLogoUrl","/MailHedgehog.svg")),g=u(()=>t==null?void 0:t.configValue("ui.appLogoStyle",[])),d=f(!1),n=f({username:null,password:null}),V=()=>{d.value=!0,t==null||t.request().post("login",n.value).then(r=>{var a,l,p,m;(l=(a=r.data)==null?void 0:a.data)!=null&&l.token&&(t==null||t.setAuthToken((m=(p=r.data)==null?void 0:p.data)==null?void 0:m.token),t.goTo({name:"emails"}))}).catch(r=>{t.onResponseError(r,"Response Error")}).finally(()=>{d.value=!1})};return(r,a)=>(x(),h("div",A,[e("div",C,[e("div",null,[e("div",E,[e("img",{class:"h-8 w-auto mr-2",src:b.value,style:q(g.value),alt:w.value||o(s)("app.title")},null,12,L)]),e("h2",R,i(o(s)("login.title")),1)]),e("form",{class:"mt-8 space-y-6",onSubmit:S(V,["prevent"])},[e("div",$,[e("div",null,[e("label",D,i(o(s)("login.form.username.label")),1),v(e("input",{id:"username","onUpdate:modelValue":a[0]||(a[0]=l=>n.value.username=l),name:"username",type:"text",autocomplete:"username",required:"",class:"form-input rounded-b-none focus:z-10 relative",placeholder:o(s)("login.form.username.label")},null,8,Z),[[_,n.value.username]])]),e("div",null,[e("label",F,i(o(s)("login.form.password.label")),1),v(e("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=l=>n.value.password=l),name:"password",type:"password",autocomplete:"current-password",required:"",class:"form-input rounded-t-none focus:z-10 relative",placeholder:o(s)("login.form.password.label")},null,8,I),[[_,n.value.password]])])]),e("div",null,[e("button",G,[e("span",J,[c(o(z),{class:"h-5 w-5 text-primary-500 group-hover:text-primary-400","aria-hidden":"true"})]),B(" "+i(o(s)("login.form.login.label")),1)])])],32)]),e("div",K,[c(N,{class:"text-context-800 dark:text-context-50"})]),e("div",O,[c(T),c(U)])]))}});export{X as default};
